{"componentChunkName":"component---src-templates-blog-post-js","path":"/2020-04-15-arduino-display-1602A/","result":{"data":{"site":{"siteMetadata":{"title":"Capitanfuturo"}},"markdownRemark":{"id":"720a7070-c6b2-500e-86b7-9eb6181e996d","excerpt":"üíª Premessa Studiando i vari componenti che si possono interfacciare con Arduino il display √® quello che permette di comunicare visivamente con l‚Äôutente. In‚Ä¶","html":"<h2>üíª Premessa</h2>\n<p>Studiando i vari componenti che si possono interfacciare con Arduino il display √® quello che permette di comunicare visivamente con l‚Äôutente. In particolare nel kit acquistato a fine anno scorso su Bangood: <a href=\"https://www.banggood.com/UNO-Basic-Starter-Learning-Kit-Upgrade-Version-For-Arduino-p-970714.html?rmmds=myorder&#x26;cur_warehouse=CN\">UNO Basic Starter Learning Kit</a> √® possibile fare pratica con un display 16x2 di tipo 1602A (versione A1 del 2019).\nFortunatamente questo display √® compatibile con la libreria messa a disposizione da Arduino stessa <a href=\"https://www.arduino.cc/en/Reference/LiquidCrystal\">LiquidCrystal</a> rendendo veramente facile pilotare il display come prover√≤ a scrivere in questo post.\nDopo aver imparato a saldare mi sono cimentato in questo esercizio ed ecco il post.</p>\n<h2>Componenti usati</h2>\n<ul>\n<li>Arduino UNO</li>\n<li>Breadboard</li>\n<li>1 Display LCD 1602A compatibile con Driver Hitachi HD44780</li>\n<li>1 Potenziometro da 10 kOhm</li>\n<li>1 Resistenza da 220 Ohm</li>\n</ul>\n<h2>Caratteristiche del display 1602A A1</h2>\n<p>Il display 1602A √® dotato di 16 colonne per 2 righe. Il colore di base √® blu ed inoltre √® possibile pilotare il contrasto del display con la semplice interazione di un potenziometro.\nNella tabella seguente descrivo a cosa corrispondono i vari PIN del display:</p>\n<table>\n<thead>\n<tr>\n<th>PIN Display</th>\n<th>Descrizione</th>\n<th>PIN Arduino</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>VSS</td>\n<td>GND, massa del display</td>\n<td>collegato al polo -</td>\n</tr>\n<tr>\n<td>VDD</td>\n<td>5V, alimentazione del display</td>\n<td>collegato al polo +</td>\n</tr>\n<tr>\n<td>V0</td>\n<td>controllo del contrasto</td>\n<td>collegato al potenziometro</td>\n</tr>\n<tr>\n<td>RS</td>\n<td>0 per invio comando, 1 per invio dati</td>\n<td>PIN 12</td>\n</tr>\n<tr>\n<td>RW</td>\n<td>0 per scrittura dati / comandi, 1 per lettura dati / stato display</td>\n<td>collegato al polo -</td>\n</tr>\n<tr>\n<td>E</td>\n<td>inizia il ciclo di lettura / scrittura</td>\n<td>PIN 11</td>\n</tr>\n<tr>\n<td>D0</td>\n<td>Bus dati per comunicazioni 8bit</td>\n<td></td>\n</tr>\n<tr>\n<td>D1</td>\n<td>Bus dati per comunicazioni 8bit</td>\n<td></td>\n</tr>\n<tr>\n<td>D2</td>\n<td>Bus dati per comunicazioni 8bit</td>\n<td></td>\n</tr>\n<tr>\n<td>D3</td>\n<td>Bus dati per comunicazioni 8bit</td>\n<td></td>\n</tr>\n<tr>\n<td>D4</td>\n<td>Bus dati per comunicazioni 8 o 4bit</td>\n<td>PIN 5</td>\n</tr>\n<tr>\n<td>D5</td>\n<td>Bus dati per comunicazioni 8 o 4bit</td>\n<td>PIN 4</td>\n</tr>\n<tr>\n<td>D6</td>\n<td>Bus dati per comunicazioni 8 o 4bit</td>\n<td>PIN 3</td>\n</tr>\n<tr>\n<td>D7</td>\n<td>Bus dati per comunicazioni 8 o 4bit</td>\n<td>PIN 2</td>\n</tr>\n<tr>\n<td>A</td>\n<td>5V, alimentazione della retroilluminazione</td>\n<td>collegato al polo + con resistenza da 220 Ohm</td>\n</tr>\n<tr>\n<td>K</td>\n<td>GND, massa della retroilluminazione</td>\n<td>collegato al polo -</td>\n</tr>\n</tbody>\n</table>\n<h3>Protocollo di comunicazione</h3>\n<p>Per i miei esercizi ho usato la libreria standard <a href=\"https://www.arduino.cc/en/Reference/LiquidCrystal\">LiquidCrystal</a> che viene inizializzata con i PIN di gestione. Se invece volessimo farcela a mano dovremmo considerare la seguente sequenza di passi per comunicare con il display:</p>\n<ol>\n<li>Posizionare il cursore nella posizione desiderata (riga, colonna)</li>\n<li>Impostare a 1 il pin R/S per impostare l‚Äôinvio dei dati e a 0 il pin R/W per dire al display che gli invieremo i dati</li>\n<li>Inviare il codice ASCII del carattere</li>\n<li>Impostare ad 1 il pin E per un minimo di 450 nanosecondi ed, in seguito, riportarlo a 0 per concluidere l‚Äôinvio del singolo carattere</li>\n</ol>\n<h2>Cablaggio con Arduino</h2>\n<p>Per il cablaggio ho utilizzato lo schema base descritto nella reference ufficiale di Arduino e disponibile <a href=\"https://www.arduino.cc/en/Tutorial/LibraryExamples/HelloWorld\">qui</a>.</p>\n<p><img src=\"https://www.arduino.cc/en/uploads/Tutorial/LCD_Base_bb_Fritz.png\" alt=\"schema\"></p>\n<h3>Esempio semplice su GitHub</h3>\n<p>Un primo facile esempio √® quello di scrivere qualcosa di statico sulla prima riga in fase di setup del programma arduino ed utilizzare la seconda riga per scrivere un contenuto dinamico nella fase di loop del programma. Questo esempio √® quello classico e presentato dalla reference di arduino <a href=\"https://www.arduino.cc/en/Reference/LiquidCrystal\">https://www.arduino.cc/en/Reference/LiquidCrystal</a>.</p>\n<h3>Esempio alternativo: divertiamoci</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/57c52363f387588d28a8e446a06eae08/b4294/display.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74.0506329113924%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHI7aJuBcm//8QAGhAAAgIDAAAAAAAAAAAAAAAAAhEAAQMSIf/aAAgBAQABBQK2h2iuGQrGUPt//8QAFhEAAwAAAAAAAAAAAAAAAAAAEBIh/9oACAEDAQE/AWo//8QAFhEAAwAAAAAAAAAAAAAAAAAAEBIh/9oACAECAQE/AVg//8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEhMhARMf/aAAgBAQAGPwKCpUjaOt4//8QAHBABAAMAAgMAAAAAAAAAAAAAAQARITFBUYGR/9oACAEBAAE/Iajwt8RPlL8jZp9sF3SbKwQDa2bEX6T/2gAMAwEAAgADAAAAECDf/8QAFxEBAQEBAAAAAAAAAAAAAAAAAQARIf/aAAgBAwEBPxBZiO3/xAAXEQEBAQEAAAAAAAAAAAAAAAABACER/9oACAECAQE/EAPeTl//xAAbEAEBAAIDAQAAAAAAAAAAAAABEQAxIUGBsf/aAAgBAQABPxBLOgK1vCk6sTpvG7f0+YKUSmBkJDnDUQgK9zj9oCMz/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"display\"\n        title=\"\"\n        src=\"/static/57c52363f387588d28a8e446a06eae08/b4294/display.jpg\"\n        srcset=\"/static/57c52363f387588d28a8e446a06eae08/ff44c/display.jpg 158w,\n/static/57c52363f387588d28a8e446a06eae08/a6688/display.jpg 315w,\n/static/57c52363f387588d28a8e446a06eae08/b4294/display.jpg 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Un secondo esempio alternativo √® quello di leggere il testo da scrivere dal monitor seriale di Arduino per poi andarlo a scrivere con la funzionalit√† di scroll del testo.\nIl codice sorgente √® disponibile <a href=\"https://github.com/capitanfuturo/arduinoSalad/blob/master/008_display_16x2_1602A/008_display_16x2_1602A.ino\">qui</a>.</p>\n<h3>Boom Shakalaka: Arduino Quiz</h3>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/5516ef54e138a083f7f6042e655a1622/b4294/arduino-quiz.jpg\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 75.31645569620254%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAPABQDASIAAhEBAxEB/8QAFwABAQEBAAAAAAAAAAAAAAAAAAIDBP/EABUBAQEAAAAAAAAAAAAAAAAAAAID/9oADAMBAAIQAxAAAAHmVUnisV//xAAZEAEBAQADAAAAAAAAAAAAAAABEQASISL/2gAIAQEAAQUC74gxmvmuWv8A/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQEQ/9oACAEDAQE/Aauf/8QAFhEBAQEAAAAAAAAAAAAAAAAAEQEQ/9oACAECAQE/AYGf/8QAGhAAAgIDAAAAAAAAAAAAAAAAABEBECEycf/aAAgBAQAGPwIy6Sg1hdr/xAAaEAADAQEBAQAAAAAAAAAAAAAAASERMUFx/9oACAEBAAE/IWtWt4IwZ/CtjLpTDKNHpaLnD//aAAwDAQACAAMAAAAQDD//xAAXEQEAAwAAAAAAAAAAAAAAAAAAARFB/9oACAEDAQE/EJYKf//EABcRAAMBAAAAAAAAAAAAAAAAAAABETH/2gAIAQIBAT8QTZlP/8QAGxABAQADAAMAAAAAAAAAAAAAAREAITFBUXH/2gAIAQEAAT8Qk2uJ3sUybAcC37fWVe4aRpMGAQbFRS1LkAqKhsxFgrwLn//Z'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"display\"\n        title=\"\"\n        src=\"/static/5516ef54e138a083f7f6042e655a1622/b4294/arduino-quiz.jpg\"\n        srcset=\"/static/5516ef54e138a083f7f6042e655a1622/ff44c/arduino-quiz.jpg 158w,\n/static/5516ef54e138a083f7f6042e655a1622/a6688/arduino-quiz.jpg 315w,\n/static/5516ef54e138a083f7f6042e655a1622/b4294/arduino-quiz.jpg 600w\"\n        sizes=\"(max-width: 600px) 100vw, 600px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>Preso dall‚Äôeuforia del momento mi sono lanciato nella scrittura di un programma in python (piccolo spoiler sul linguaggio di programmazione che vorrei imparare quest‚Äôanno! üòÅ) che chiede ad una API REST pubblica una domanda di informatica di tipo s√¨/no e la scrive sull‚ÄôArduino passandogli anche la risposta.\nAlla pressione del tasto rosso = no o giallo = s√¨ confronta il risultato. Tutto il codice √® disponibile su questo repository dedicato <a href=\"https://github.com/capitanfuturo/arduino-quiz\">arduino-quiz</a>.</p>\n<p><a href=\"http://www.youtube.com/watch?feature=player_embedded&v=ueqo8mhZ1yI\" target=\"_blank\"><img src=\"http://img.youtube.com/vi/ueqo8mhZ1yI/0.jpg\" alt=\"IMAGE ALT TEXT HERE\" width=\"240\" height=\"180\"></a></p>\n<h2>Conclusione</h2>\n<p>Il display 1602A √® un ottimo componente che ci pu√≤ permettere di mostrare dati e messaggi all‚Äôutente e rendere l‚ÄôArduino pi√π interattivo. Le possibilit√† sono davvero illimitate.\nNel frattempo due piccole considerazioni su quanto visto da tenere a mente sono:</p>\n<ul>\n<li>Attenzione che il messaggio visualizzabile √® legato alla RAM del display e mi pare che abbia un limite di 80 byte. Questo significa che bisogna spezzare opportunamente la stringa che si vuole visualizzare o comunque pulire in modo opportuno il display.</li>\n<li>La libreria supporta solo caratteri ASCII. Mi pare ci sia il supporto per solo pochi caratteri custom, altrimenti come successo per il display a LED 8x8 bisogner√† mapparsi le sprite di tutti i caratteri che si vogliono gestire.</li>\n</ul>\n<h2>Link utili</h2>\n<ul>\n<li>La reference ufficiale di Arduino <a href=\"https://www.arduino.cc/en/Reference/LiquidCrystal\">https://www.arduino.cc/en/Reference/LiquidCrystal</a>.</li>\n<li>Il datasheet del componente √® disponibile qui in formato <a href=\"https://www.openhacks.com/uploadsproductos/eone-1602a1.pdf\">PDF</a>.</li>\n<li>arduino-quiz <a href=\"https://github.com/capitanfuturo/arduino-quiz\">https://github.com/capitanfuturo/arduino-quiz</a>.</li>\n<li>7 Tips using a digital display <a href=\"https://www.baldengineer.com/arduino-lcd-display-tips.html\">https://www.baldengineer.com/arduino-lcd-display-tips.html</a>.</li>\n</ul>\n<blockquote>\n<p>Gli uomini sono diventati gli strumenti dei loro stessi strumenti. (Henry David Thoreau).</p>\n</blockquote>","frontmatter":{"title":"Arduino e il display 16x2 1602A","date":"15 April 2020","description":null,"tags":["Arduino"]}},"previous":{"fields":{"slug":"/2020-04-01-saldatore/"},"frontmatter":{"title":"Imparare a saldare"}},"next":{"fields":{"slug":"/2020-05-01-il-secolo-asiatico/"},"frontmatter":{"title":"Il secolo asiatico? (Parag Khanna)"}}},"pageContext":{"id":"720a7070-c6b2-500e-86b7-9eb6181e996d","previousPostId":"393f892b-9f36-5234-abf3-69b47d64f50c","nextPostId":"0a4c29f9-d038-5ee3-8d1c-d500178ff8b6"}},"staticQueryHashes":["2114561082"],"slicesMap":{}}